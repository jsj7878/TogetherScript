# 8.1 ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ íƒ€ì…

> ì´ ì ˆì—ì„œëŠ” í—·ê°ˆë¦´ ìˆ˜ ìˆëŠ” ëŒ€í‘œì ì¸ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ íƒ€ì…ì„ ì‚´í´ë³´ë©´ì„œ ìƒí™©ì— ë”°ë¼ ì–´ë–¤ ê²ƒì„ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ì§€ ê·¸ë¦¬ê³  ì‚¬ìš©í•  ë•Œì˜ ìœ ì˜ì ì€ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ì.

1. í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ íƒ€ì…

   ```tsx
   interface Component<P = {}, S = {}, SS = any>
     extends ComponentLifecycle<P, S, SS> {}

   class Component<P, S> {
     // ìƒëµ
   }

   class PureComponent<P = {}, S = {}, SS = any> extends Component<P, S, SS> {}
   ```

   - í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ê°€ ìƒì†ë°›ëŠ” React.Component ì™€ React.PureComponentì˜ íƒ€ì… ì •ì˜ëŠ” ìœ„ì™€ ê°™ìœ¼ë©° P ì™€ S ëŠ” ê°ê° props ì™€ state ë¥¼ ì˜ë¯¸í•œë‹¤.
   - props ì™€ state ë¥¼ ì œë„¤ë¦­ìœ¼ë¡œ ë°›ê³  ìˆë‹¤. ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

   ```tsx
   // Welcome ì»´í¬ë„ŒíŠ¸ì˜ props íƒ€ì… ì •ì˜
   interface WelcomeProps {
     name: string;
   }

   class Welcome extends React.Component<WelcomeProps> {
     // ìƒëµ
   }
   ```

1. í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ íƒ€ì…

   ```tsx
   // í•¨ìˆ˜ ì„ ì–¸ì„ ì‚¬ìš©í•œ ë°©ì‹
   function Welcome(props: WelcomeProps): JSX.Element {
     return <div>Hello, {props.name}!</div>;
   }

   // í•¨ìˆ˜ í‘œí˜„ì‹ì„ ì‚¬ìš©í•œ ë°©ì‹ - React.FC ì‚¬ìš©
   const Welcome: React.FC<WelcomeProps> = ({ name }) => {
     return <div>Hello, {name}!</div>;
   };

   // í•¨ìˆ˜ í‘œí˜„ì‹ì„ ì‚¬ìš©í•œ ë°©ì‹ - React.VFC ì‚¬ìš©
   const Welcome: React.VFC<WelcomeProps> = ({ name }) => {
     return <div>Hello, {name}!</div>;
   };

   // í•¨ìˆ˜ í‘œí˜„ì‹ì„ ì‚¬ìš©í•œ ë°©ì‹ - JSX.Elementë¥¼ ë°˜í™˜ íƒ€ì…ìœ¼ë¡œ ì§€ì •
   const Welcome = ({ name }: WelcomeProps): JSX.Element => {
     return <div>Hello, {name}!</div>;
   };

   // React.FC íƒ€ì… ì •ì˜
   type FC<P = {}> = FunctionComponent<P>;

   interface FunctionComponent<P = {}> {
     // propsì— childrenì„ ì¶”ê°€
     (props: React.PropsWithChildren<P>, context?: any): React.ReactElement<
       any,
       any
     > | null;
     propTypes?: React.WeakValidationMap<P> | undefined;
     contextTypes?: React.ValidationMap<any> | undefined;
     defaultProps?: Partial<P> | undefined;
     displayName?: string | undefined;
   }

   // React.VFC íƒ€ì… ì •ì˜
   type VFC<P = {}> = VoidFunctionComponent<P>;
   interface VoidFunctionComponent<P = {}> {
     // children ì—†ìŒ
     (props: P, context?: any): React.ReactElement<any, any> | null;
     propTypes?: React.WeakValidationMap<P> | undefined;
     contextTypes?: React.ValidationMap<any> | undefined;
     defaultProps?: Partial<P> | undefined;
     displayName?: string | undefined;
   }
   ```

   - í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì„ ì–¸í•  ë•Œ ë§ì´ ë³¼ ìˆ˜ ìˆëŠ” í˜•íƒœëŠ” React.FC í˜¹ì€ React.VFC ë¡œ íƒ€ì…ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ë‹¤.
   - ë‘˜ì˜ ì°¨ì´ëŠ” children íƒ€ì…ì„ í—ˆìš©í•˜ëŠ” ì§€ì— ë”°ë¼ ë‹¤ë¥´ë‹¤. React.FC ëŠ” ì•”ë¬µì ìœ¼ë¡œ children ì„ í¬í•¨í•˜ê³  ìˆê¸° ë•Œë¬¸ì— í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì—ì„œ children ì„ ì‚¬ìš©í•˜ì§€ ì•Šë”ë¼ë„ í—ˆìš©í•œë‹¤. children ì´ í•„ìš”í•˜ì§€ ì•Šì€ ì»´í¬ë„ŒíŠ¸ëŠ” ì¢€ ë” ëª…í™•í•˜ê²Œ íƒ€ì…ì„ ì§€ì •í•˜ê¸° ìœ„í•´ React.VFC ë¥¼ ë§ì´ ì‚¬ìš©í•œë‹¤.
   - â—ê·¸ëŸ¬ë‚˜!!! ë¦¬ì•¡íŠ¸ v18ë¡œ ë„˜ì–´ê°€ë©´ì„œ React.VFC ê°€ ì‚­ì œë˜ê³  React.FC ì—ì„œ children ì´ ì‚¬ë¼ì¡Œë‹¤!!

1. children props íƒ€ì… ì§€ì •

   ```tsx
   type PropsWithChildren<P> = P & { children?: ReactNode | undefined };
   ```

   - ê°€ì¥ ë³´í¸ì ì¸ children íƒ€ì…ì€ ReactNode | undefined ê°€ ëœë‹¤. ReactNode ëŠ” ReactElement ì™¸ì—ë„ boolean, number ë“± ì—¬ëŸ¬ íƒ€ì…ì„ í¬í•¨í•˜ëŠ” íƒ€ì…ì´ë‹¤. ë” êµ¬ì²´ì ìœ¼ë¡œ íƒ€ì´í•‘í•˜ëŠ” ìš©ë„ì—ëŠ” ì í•©í•˜ì§€ ì•Šë‹¤??

   ```tsx
   // Example 1
   type WelcomeProps = {
     children: "ì²œìƒì—°ë¶„" | "ë” ê·€í•œ ë¶„" | "ê·€í•œ ë¶„" | "ê³ ë§ˆìš´ ë¶„";
   };

   // Example 2
   type WelcomeProps = {
     children: string;
   };

   // Example 3
   type WelcomeProps = {
     children: React.ReactElement;
   };
   ```

   - â­Â ì•„ë˜ ì²˜ëŸ¼ ì •ì˜í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê±´ê°€?

   ```tsx
   type WelcomeProps = {
     name: string;
     children: React.ReactElement;
   };

   const Welcome = ({ name, children }: WelcomeProps): JSX.Element => {
     return (
       <div>
         <h1>Hello, {name}!</h1>
         {children}
       </div>
     );
   };

   // ì‚¬ìš© ì˜ˆì‹œ
   <Welcome name="Alice">
     <p>This is a child component!</p>
   </Welcome>;
   ```

1. render ë©”ì„œë“œì™€ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì˜ ë°˜í™˜ íƒ€ì… - React.ReactElement vs JSX.Element vs React.ReactNode

   - React.ReactElement, JSX.Element, React.ReactNode 3ê°€ì§€ íƒ€ì…ì— ëŒ€í•œ ë¹„êµ

   ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f3712c5b-02e6-4029-9dad-f633d7b71a99/1a8517f5-1996-4406-85ba-7a1bf9bd6f66/image.png)

   ### 1. React.ReactElement

   ```tsx
   interface ReactElement<
     P = any,
     T extends string | JSXElementConstructor<any> =
       | string
       | JSXElementConstructor<any>
   > {
     type: T;
     props: P;
     key: Key | null;
   }
   ```

   - ë¦¬ì•¡íŠ¸ëŠ” ì‹¤ì œ DOM ì´ ì•„ë‹ˆë¼ ê°€ìƒ DOM ì„ ê¸°ë°˜ìœ¼ë¡œ ë Œë”ë§í•˜ëŠ”ë° ê°€ìƒ DOM ì˜ ì—˜ëŸ¬ë¨¼íŠ¸ëŠ” ReactElement í˜•íƒœë¡œ ì €ì¥ëœë‹¤. ì¦‰ ReactElement íƒ€ì…ì€ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì²´ í˜•íƒœë¡œ ì €ì¥í•˜ê¸° ìœ„í•œ í¬ë§·ì´ë‹¤.

1. JSX.Element

```tsx
declare global {
  namespace JSX {
    interface Element extends React.ReactElement<any, any> {}
  }
}
```

- JSX.Element íƒ€ì…ì€ ReactElement ë¥¼ í™•ì¥í•˜ëŠ” íƒ€ì…ì´ë‹¤.
- â­Â ì½”ë“œë¥¼ í™•ì¸í•´ë³´ë©´ declare global ë¡œ ê¸€ë¡œë²Œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ì •ì˜ë˜ì–´ ìˆì–´ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ í•´ë‹¹ íƒ€ì…ì„ ì¬ì •ì˜í•˜ê±°ë‚˜ í™•ì¥í•  ìˆ˜ ìˆì–´, ìœ ì—°ì„±ì´ ë†’ë‹¤.

1. ReactNode

```tsx
type ReactText = string | number;

type ReactChild = ReactElement | ReactText;

type ReactFragment = {} | Iterable<ReactNode>;

type ReactNode =
  | ReactChild
  | ReactFragment
  | ReactPortal
  | boolean
  | null
  | undefined;
```

- ReactElement ì™¸ì—ë„ boolean, string, number ë“±ì˜ ì—¬ëŸ¬ íƒ€ì…ì„ í¬í•¨í•˜ê³  ìˆë‹¤.

1. ReactElement, ReactNode, JSX.Element í™œìš©í•˜ê¸°

   - 3ê°€ì§€ ëª¨ë‘ ë¦¬ì•¡íŠ¸ì˜ ìš”ì†Œë¥¼ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì…ì¸ë°, ì–´ì§¸ì„œ ì´ë ‡ê²Œ ë§ì€ íƒ€ì…ì´ ì¡´ì¬í•˜ëŠ”ì§€ ì˜ë¬¸ì„ ëŠë‚„ ìˆ˜ ìˆë‹¤.
   - @types/react íŒ¨í‚¤ì§€ì— ì •ì˜ëœ íƒ€ì…

   ```tsx
   declare namespace React {
     // ReactElement
     interface ReactElement<
       P = any,
       T extends string | JSXElementConstructor<any> =
         | string
         | JSXElementConstructor<any>
     > {
       type: T;
       props: P;
       key: Key | null;
     }

     // ReactNode
     type ReactText = string | number;

     type ReactChild = ReactElement | ReactText;

     type ReactFragment = {} | Iterable<ReactNode>;

     type ReactNode =
       | ReactChild
       | ReactFragment
       | ReactPortal
       | boolean
       | null
       | undefined;

     type ComponentType<P = {}> = ComponentClass<P> | FunctionComponent<P>;
   }

   // JSX.Element
   declare global {
     namespace JSX {
       interface Element extends React.ReactElement<any, any> {}
     }
   }
   ```

   ### [ ReactElement ]

   ```tsx
   const element = React.createElement(
     "h1",
     { className: "greeting" },
     "Hello, world!"
   );

   // ì£¼ì˜: ë‹¤ìŒ êµ¬ì¡°ëŠ” ë‹¨ìˆœí™”ë˜ì—ˆë‹¤.
   const element = {
     type: "h1",
     props: {
       className: "greeting",
       children: "Hello, world!",
     },
   };

   // JSX ê¸€ë¡œë²Œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì„ ì–¸
   declare global {
     namespace JSX {
       interface Element extends React.ReactElement<any, any> {}
     }
   }
   ```

   - JSX ëŠ” ë¦¬ì•¡íŠ¸ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ë¬¸ë²•ì´ë©°, íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬ëŠ” JSX ë¬¸ë²•ì„ createElement ë©”ì„œë“œ í˜¸ì¶œë¬¸ìœ¼ë¡œ ìœ„ì™€ ê°™ì€ ë¦¬ì•¡íŠ¸ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ìƒì„±í•œë‹¤.
   - ë¦¬ì•¡íŠ¸ëŠ” ìœ„ì²˜ëŸ¼ ìƒê¸´ ë¦¬ì•¡íŠ¸ ì—˜ë¦¬ë©˜íŠ¸ ê°ì²´ë¥¼ ì½ì–´ì„œ DOM ì„ êµ¬ì„±í•œë‹¤.
   - ì¦‰, ReactElement íƒ€ì…ì€ JSXì˜ createElement ë©”ì„œë“œ í˜¸ì¶œë¡œ ìƒì„±ëœ ë¦¬ì•¡íŠ¸ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì…ì´ë‹¤.

   ### [ ReactNode ]

   ```tsx
   type ReactText = string | number;

   type ReactChild = ReactElement | ReactText;

   type ReactFragment = {} | Iterable<ReactNode>;

   type ReactNode =
     | ReactChild
     | ReactFragment
     | ReactPortal
     | boolean
     | null
     | undefined;
   ```

   - ReactChild íƒ€ì…ì€ ReactElement | string | number ë¡œ ì •ì˜ë˜ì–´ ì¢€ ë” ë„“ì€ ë²”ìœ„ë¥¼ ê°€ì§.
   - ê·¸ ì™¸ì—ë„ boolean, null, undefined ë“± í›¨ì”¬ ë„“ì€ ë²”ì£¼ì˜ íƒ€ì…ì„ í¬í•¨í•˜ê³  ìˆë‹¤.
   - ì¦‰, ReactNodeëŠ” ë¦¬ì•¡íŠ¸ì˜ render í•¨ìˆ˜ê°€ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ëª¨ë“  í˜•íƒœë¥¼ ë‹´ê³  ìˆë‹¤.

   ### [ JSX.Element ]

   ```tsx
   declare global {
     namespace JSX {
       interface Element extends React.ReactElement<any, any> {}
     }
   }
   ```

   - JSX.Element ëŠ” ReactElement ì˜ ì œë„¤ë¦­ìœ¼ë¡œ props ì™€ íƒ€ì… í•„ë“œì— ëŒ€í•´ any íƒ€ì…ì„ ê°€ì§€ë„ë¡ í™•ì¥í•œë‹¤.
   - ì¦‰, ReactElement ì˜ íŠ¹ì • íƒ€ì…ìœ¼ë¡œ props ì™€ íƒ€ì„ í•„ë“œë¥¼ any ë¡œ ê°€ì§€ëŠ” íƒ€ì…ì´ë‹¤.
   - ë‹¨ì¼ ì—˜ë¦¬ë¨¼íŠ¸ë§Œ ê°€ëŠ¥í•˜ë‹¤.

1. ì‚¬ìš© ì˜ˆì‹œ

   ### [ ReactNode ]

   - ReactNode íƒ€ì…ì€ ë¦¬ì•¡íŠ¸ì˜ render í•¨ìˆ˜ê°€ ë°˜í™˜í•  ìˆ˜ ëª¨ë“  í˜•íƒœì´ê¸°ì—, ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ëª¨ë“  íƒ€ì…ì„ ì˜ë¯¸í•œë‹¤.
   - children ì„ í¬í•¨í•˜ëŠ” props íƒ€ì…ì„ ì„ ì–¸í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

   ```tsx
   interface MyComponentProps {
     children?: React.ReactNode;
     // ...
   }
   ```

   - JSX í˜•íƒœì˜ ë¬¸ë²•ì„ ë•Œë¡œëŠ” string, number, null, undefined ê°™ì´ ì–´ë–¤ íƒ€ì…ì´ë“  children prop ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆê²Œ í•˜ê³  ì‹¶ë‹¤ë©´ ReactNode íƒ€ì…ìœ¼ë¡œ children ì„ ì„ ì–¸í•˜ë©´ ëœë‹¤.
   - ğŸ‘ ë¦¬ì•¡íŠ¸ ë‚´ì¥ íƒ€ì…ì¸ PropsWithChidren íƒ€ì…ë„ ReactNode íƒ€ì…ìœ¼ë¡œ childrenì„ ì„ ì–¸í•˜ê³  ìˆë‹¤.

   ```tsx
   type PropsWithChildren<P = unknown> = P & {
     children?: ReactNode | undefined;
   };

   interface MyProps {
     // ... ì •ì˜ë  ì†ì„±
   }

   type MyComponentProps = PropsWithChildren<MyProps>;
   ```

   - prop ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì–‘í•œ í˜•íƒœë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê²Œ í•˜ê³  ì‹¶ì„ ë•Œ ìœ ìš©í•¨.

### [ JSX.Element ] â‰ï¸

- props ì™€ íƒ€ì… í•„ë“œê°€ any ì¸ ë¦¬ì•¡íŠ¸ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì˜ë¯¸í•œë‹¤.
- ë‹¨ì¼ ì—˜ë¦¬ë¨¼íŠ¸ë§Œ ê°€ëŠ¥í•˜ë‹¤.
- ìœ„ì˜ íŠ¹ì§• ë•Œë¬¸ì— ë¦¬ì•¡íŠ¸ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ prop ìœ¼ë¡œ ì „ë‹¬ë°›ì•„ render props íŒ¨í„´ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•  ë•Œ ìœ ìš©í•˜ê²Œ í™œìš©í•  ìˆ˜ ìˆë‹¤. â† â—Â ì´ ë¶€ë¶„ì´ ì˜ ì´í•´ê°€ ê°€ì§€ ì•ŠìŒ. ë•ë¶„ì— ì•„ë˜ì— ìˆëŠ” ë§ë„ ì´í•´ê°€ ì•ˆê°.

```tsx
interface Props {
  icon: JSX.Element;
}

const Item = ({ icon }: Props) => {
  // propìœ¼ë¡œ ë°›ì€ ì»´í¬ë„ŒíŠ¸ì˜ propsì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤
  const iconSize = icon.props.size;
  return <li>{icon}</li>;
};

// icon propì—ëŠ” JSX.Element íƒ€ì…ì„ ê°€ì§„ ìš”ì†Œë§Œ í• ë‹¹í•  ìˆ˜ ìˆë‹¤
const App = () => {
  return <Item icon={<Icon size={14} />} />;
};
```

- JSX.Elemnet íƒ€ì…ìœ¼ë¡œ ì„ ì–¸í•¨ìœ¼ë¡œì„œ í•´ë‹¹ propì—ëŠ” JSX ë¬¸ë²•ë§Œ ì‚½ì…í•  ìˆ˜ ìˆë‹¤. â†’ ì–´ì§¸ì„œ?? anyë¼ë©°
- ë˜í•œ icon.props ì— ì ‘ê·¼í•˜ì—¬ propìœ¼ë¡œ ë„˜ê²¨ë°›ì€ ì»´í¬ë„ŒíŠ¸ì˜ ìƒì„¸í•œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

### [ ReactElement ]

- JSX.Element ì˜ˆì‹œë¥¼ í™•ì¥í•˜ì—¬ **ì¶”ë¡  ê´€ì ì—ì„œ ë” ìœ ìš©**í•˜ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ JSX.Element ëŒ€ì‹  ReactElement ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ì´ ë•Œ ì›í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ props ë¥¼ ReactElement ì˜ ì œë„¤ë¦­ìœ¼ë¡œ ì§€ì •í•´ì¤„ ìˆ˜ ìˆìŒ.
- JSX.Element ê°€ ReactElement ì˜ props íƒ€ì…ìœ¼ë¡œ any ê°€ ì§€ì •ë˜ì—ˆë‹¤ë©´,

```tsx
interface IconProps {
  size: number;
}

interface Props {
  // ReactElementì˜ props íƒ€ì…ìœ¼ë¡œ IconProps íƒ€ì… ì§€ì •
  icon: React.ReactElement<IconProps>;
}

const Item = ({ icon }: Props) => {
  // icon propìœ¼ë¡œ ë°›ì€ ì»´í¬ë„ŒíŠ¸ì˜ propsì— ì ‘ê·¼í•˜ë©´, propsì˜ ëª©ë¡ì´ ì¶”ë¡ ëœë‹¤
  const iconSize = icon.props.size;

  return <li>{icon}</li>;
};
```

- ì´ê±¸ ì‚¬ìš©í•˜ë©´ ì–´ë–¤ props ê°€ ìˆëŠ”ì§€ ì¶”ë¡ í•  ìˆ˜ ìˆëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤.

1. ë¦¬ì•¡íŠ¸ì—ì„œ ê¸°ë³¸ HTML ìš”ì†Œ íƒ€ì… í™œìš©í•˜ê¸°

   ```tsx
   const SquareButton = () => <button> ì •ì‚¬ê°í˜• ë²„íŠ¼ <button>;
   ```

   ìƒˆë¡­ê²Œ ë§Œë“  Button ì»´í¬ë„ŒíŠ¸ëŠ” ê¸°ì¡´ HTML button ê³¼ ê°™ì€ ì—­í• ì„ í•˜ë©´ì„œë„ ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ë‚˜ UI ê°€ ì¶”ê°€ëœ í˜•íƒœì´ë‹¤. ê¸°ì¡´ button íƒœê·¸ê°€ onClick ì´ë²¤íŠ¸ë¥¼ ì§€ì›í•˜ëŠ” ê²ƒì²˜ëŸ¼ ìƒˆë¡œìš´ Button ì»´í¬ë„ŒíŠ¸ë„ onClick ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì§€ì›í•´ì•¼ë§Œ í•œë‹¤.

   HTML íƒœê·¸ì˜ ì†ì„± íƒ€ì…ì„ í™œìš©í•˜ì—¬ íƒ€ì…ì„ ì§€ì •í•˜ëŠ” ë°©ë²•

   ### [ DetailedHTMLProps ì™€ ComponentWithoutRef ]

   ```tsx
   // React.DetailedHTMLPropsë¥¼ í™œìš©í•œ íƒ€ì… ì„ ì–¸
   type NativeButtonProps = React.DetailedHTMLProps<
     React.ButtonHTMLAttributes<HTMLButtonElement>,
     HTMLButtonElement
   >;

   type ButtonProps = {
     onClick?: NativeButtonProps["onClick"];
   };
   ```

   - `React.DetailedHTMLProps`ëŠ” HTML íƒœê·¸ì™€ ê´€ë ¨ëœ ì†ì„±ë“¤ì˜ íƒ€ì…ì„ ì§€ì •í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
   - `React.DetailedHTMLProps<T, E>`ëŠ” ë‘ ê°€ì§€ ì œë„¤ë¦­ ì¸ìë¥¼ ë°›ìŠµë‹ˆë‹¤:
     - `T`: ì†ì„± íƒ€ì…(ì˜ˆ: `React.ButtonHTMLAttributes`).
     - `E`: ìš”ì†Œ íƒ€ì…(ì˜ˆ: `HTMLButtonElement`).

   ```tsx
   // React.ComponentPropsWithoutRefë¥¼ í™œìš©í•œ íƒ€ì… ì„ ì–¸
   type NativeButtonType = React.ComponentPropsWithoutRef<"button">;

   type ButtonPropsWithoutRef = {
     onClick?: NativeButtonType["onClick"];
   };
   ```

   - `React.ComponentPropsWithoutRef<"button">`ëŠ” HTML `<button>` íƒœê·¸ì™€ ê´€ë ¨ëœ ì†ì„±ë“¤ì˜ íƒ€ì…ì„ ì¶”ë¡ í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
   - ì´ëŠ” `React.DetailedHTMLProps`ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ, ì°¸ì¡°(`ref`)ë¥¼ í¬í•¨í•˜ì§€ ì•ŠëŠ” íƒ€ì…ì„ ì •ì˜í•©ë‹ˆë‹¤.

   ### [ ì–¸ì œ ComponentPropsWithoutRefë¥¼ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œ? ]

   **ê²°ë¡ ë¶€í„° ì´ì•¼ê¸°í•˜ë©´!!!** HTML ì†ì„±ì„ í™•ì¥í•˜ëŠ” props ë¥¼ ì„¤ê³„í•  ë•ŒëŠ” ComponentPropsWithoutRef íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ ref ê°€ ì‹¤ì œë¡œ forwardRef ì™€ í•¨ê»˜ ì‚¬ìš©ë  ë•Œë§Œ props ë¡œ ì „ë‹¬ ë°›ë„ë¡ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.

   - â­Â ref ë€? ìƒì„±ëœ DOM ë…¸ë“œë‚˜ ë¦¬ì•¡íŠ¸ ì—˜ë¦¬ë¨¼íŠ¸ì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•.

# 8.2 íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ì—ì„œ ê³µí†µ ì»´í¬ë„ŒíŠ¸ì— ì–´ë–¤ íƒ€ì…ì˜ ì†ì„±ì´ ì œê³µë˜ì–´ì•¼ í•˜ëŠ”ì§€ ì•Œë ¤ì¤€ë‹¤. í•„ìˆ˜ë¡œ ì „ë‹¬ë˜ì–´ì•¼ í•˜ëŠ” ì†ì„±ì´ ì „ë‹¬ë˜ì§€ ì•Šì•˜ì„ ë•ŒëŠ” ì—ëŸ¬ë¥¼ í‘œì‹œí•˜ì—¬ ìœ ì§€ë³´ìˆ˜ ê³¼ì •ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ì‹¤ìˆ˜ë¥¼ ì‚¬ì „ì— ë§‰ì„ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

1. JSX ë¡œ êµ¬í˜„ëœ Select ì»´í¬ë„ŒíŠ¸

   ```tsx
   // ì˜ˆì‹œë¡œ ë‚˜ì™€ìˆëŠ” Select ì»´í¬ë„ŒíŠ¸

   const Select = ({ onChange, options, selectedOption }) => {
     const handleChange = (e) => {
       const selected = Object.entries(options).find(
         ([_, value]) => value === e.target.value
       )?.[0];
       onChange?.(selected);
     };

     return (
       <select
         onChange={handleChange}
         value={selectedOption && options[selectedOption]}
       >
         {Object.entries(options).map(([key, value]) => (
           <option key={key} value={value}>
             {value}
           </option>
         ))}
       </select>
     );
   };
   ```

   - ê° option ì˜ (key-value) ìŒì„ ê°ì²´ë¡œ ë°›ìœ¼ë©°, ì„ íƒëœ ê°’ì´ ë³€ê²½ë  ë•Œ í˜¸ì¶œë˜ëŠ” onChnage ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë°›ëŠ”ë‹¤.
   - ì„¤ëª…ì´ ì—†ë‹¤ë©´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„œ ê° ì†ì„±ì— ì–´ë–¤ íƒ€ì…ì˜ ê°’ì„ ì „ë‹¬í•´ì•¼ í• ì§€ ì•Œê¸° ì–´ë µë‹¤..!! (ê³µê°..) ì´ë¥¼ ëª…í™•í•˜ê²Œ ì•Œë ¤ì£¼ê¸° ìœ„í•œ ì¶”ê°€ì ì¸ ì„¤ëª…ì´ í•„ìš”í•˜ë‹¤..!!!

1. JSDocs ë¡œ ì¼ë¶€ íƒ€ì… ì§€ì •í•˜ê¸°

   - JSDocs ë¥¼ ì‚¬ìš©í•˜ì—¬ ì†ì„± íƒ€ì…ì„ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤.
   - JSDocs ì´ë€? **JSDoc**ì€Â ìë°”ìŠ¤í¬ë¦½íŠ¸Â ì†ŒìŠ¤ ì½”ë“œÂ íŒŒì¼ë“¤ì— ì£¼í•´ë¥¼ ë‹¬ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ”Â ë§ˆí¬ì—… ì–¸ì–´ì´ë‹¤.

   ```tsx
   /**
    * Select ì»´í¬ë„ŒíŠ¸
    * @param {Object} props - Select ì»´í¬ë„ŒíŠ¸ë¡œ ë„˜ê²¨ì£¼ëŠ” ì†ì„±
    * @param {Object} props.options - { [key: string]: string } í˜•ì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§„ option ê°ì²´
    * @param {string | undefined} props.selectedOption - í˜„ì¬ ì„ íƒëœ optionì˜ keyê°’ (optional)
    * @param {function} props.onChange - select ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ ë¶ˆë¦¬ëŠ” callback í•¨ìˆ˜ (optional)
    * @returns {JSX.Element}
    */
   const Select = //...
   ```

1. props ì¸í„°í˜ì´ìŠ¤ ì ìš©í•˜ê¸°

   - JSDoc ìœ¼ë¡œë„ ëŒ€ëµì ì¸ íƒ€ì…ê³¼ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ì§€ íŒŒì•…í•  ìˆ˜ ìˆì§€ë§Œ, ì–´ë–¤ í˜•íƒœì˜ ê°ì²´ì¸ì§€ë‚˜ onChange ì˜ ë§¤ê°œë³€ìˆ˜, ë°˜í™˜ ê°’ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì •ë³´ë¥¼ ì•Œê¸° ì–´ë ¤ì›Œ ì˜ëª»ëœ íƒ€ì…ì´ ì „ë‹¬ë  ìˆ˜ ìˆëŠ” ìœ„í—˜ì´ ì¡´ì¬í•œë‹¤.

   ```tsx
   type Option = Record<string, string>; // {[key: string]: string}

   interface SelectProps {
     options: Option;
     selectedOption: string;
     onChange?: (selected?: string) => void;
   }

   const Select = ({
     options,
     selectedOption,
     onChange,
   }: SelectProps): JSX.Element => {
     //...
   };
   ```

   ```tsx
   interface Fruit {
     count: number;
   }

   interface Param {
     [key: string]: Fruit; // type Param = Record<string, Fruit>ì™€ ë™ì¼
   }

   const func: (fruits: Param) => void = ({ apple }: Param) =>
     console.log(apple.count);

   func({ apple: { count: 0 } });

   func({ mango: { count: 0 } }); //  Cannot read properties of undefined (reading 'count')
   ```

   - [key: string] ì€ ì‚¬ì‹¤ìƒ ëª¨ë“  í‚¤ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ë„“ì€ ë²”ìœ„ì˜ íƒ€ì…ì€ ì˜ëª»ëœ íƒ€ì…ì´ ì „ë‹¬ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•œ í•œ íƒ€ì…ì„ ì¢ê²Œ ì œí•œí•˜ì—¬ ì‚¬ìš©í•˜ì.

1. ë¦¬ì•¡íŠ¸ ì´ë²¤íŠ¸

   - â­ ë¦¬ì•¡íŠ¸ëŠ” ê°€ìƒ DOM ì„ ë‹¤ë£¨ë©´ì„œ ì´ë²¤íŠ¸ë„ ë³„ë„ë¡œ ê´€ë¦¬í•œë‹¤.
   - onclick, onchange ê°™ì´ DOM ì—˜ë¦¬ë¨¼íŠ¸ì— ë“±ë¡ë˜ì–´ ì²˜ë¦¬í•˜ëŠ” ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì™€ ë‹¬ë¦¬ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì— ë“±ë¡ë˜ëŠ” ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆëŠ” onClick, onChange ì²˜ëŸ¼ ì¹´ë©œ ì¼€ì´ìŠ¤ë¡œ í‘œê¸°í•œë‹¤. ê·¸ë ‡ê¸°ì— ë¦¬ì•¡íŠ¸ ì´ë²¤íŠ¸ëŠ” ë¸Œë¼ìš°ì €ì˜ ê³ ìœ í•œ ì´ë²¤íŠ¸ì™€ ì™„ì „íˆ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.
   - ex ) ë¦¬ì•¡íŠ¸ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” ì´ë²¤íŠ¸ ë²„ë¸”ë§ ë‹¨ê³„ì—ì„œ í˜¸ì¶œëœë‹¤. ì´ë²¤íŠ¸ ìº¡ì²˜ ë‹¨ê³„ì—ì„œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ê¸° ìœ„í•´ì„œëŠ” onClickCapture, onChangeCapture ê³¼ ê°™ì´ ì¼ë°˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì´ë¦„ ë’¤ì— Capture ì„ ë¶™ì—¬ì•¼ í•œë‹¤.
   - ë˜í•œ ë¦¬ì•¡íŠ¸ëŠ” ë¸Œë¼ìš°ì € ì´ë²¤íŠ¸ë¥¼ í•©ì„±í•œ í•©ì„± ì´ë²¤íŠ¸ë¥¼ ì œê³µí•œë‹¤.
   - â­ í•©ì„± ì´ë²¤íŠ¸ë€? DOMì˜ Event() ìƒì„±ìë¡œ ìƒì„±í•œ ì´ë²¤íŠ¸ëŠ” ë¸Œë¼ìš°ì €ê°€ ìƒì„±í•˜ëŠ” ì´ë²¤íŠ¸ì™€ êµ¬ë¶„í•˜ê¸° ìœ„í•´ í•©ì„± ì´ë²¤íŠ¸(synthetic event)ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. í•˜ì§€ë§Œ Reactì—ì„œëŠ” DOM Event(Native Event)ë¥¼ í¬í•¨í•œ ë˜í¼ê°ì²´ SyntheticEventë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
   - ì™œ í•©ì„±ì´ë²¤íŠ¸ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í• ê¹Œ? ë¸Œë¼ìš°ì €ë³„ í˜¸í™˜ì„±(í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì§•)ê³¼ ì‚¬ìš©ìì˜ í¸ì˜ì„±ì„ ìœ„í•´ì„œ í•©ì„± ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤. ê¸°ì¡´Â `Event`ë¥¼ ê°ì‹¼Â `SyntheticEvent`ë¡œ ì‚¬ìš©ë˜ë©° ì¼ê´€ì ìœ¼ë¡œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì—ˆë‹¤.

   ```tsx
   type EventHandler<Event extends React.SyntheticEvent> = (
     e: Event
   ) => void | null;
   type ChangeEventHandler = EventHandler<ChangeEvent<HTMLInputElement>>;

   const eventHandler1: GlobalEventHandlers["onchange"] = (e) => {
     e.target; // ì¼ë°˜ EventëŠ” targetì´ ì—†ìŒ
   };

   const eventHandler2: ChangeEventHandler = (e) => {
     e.target; // ë¦¬ì•¡íŠ¸ ì´ë²¤íŠ¸(í•©ì„± ì´ë²¤íŠ¸)ëŠ” targetì´ ìˆìŒ
   };
   ```

   - ìœ„ì™€ ê°™ì´ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ íƒ€ì…ì„ ë§Œë“¤ì–´ ë†“ê³ , ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

   ```tsx
   const Select = ({ onChange, options, selectedOption }: SelectProps) => {
     const handleChange: React.ChangeEventHandler<HTMLSelectElement> = (e) => {
       const selected = Object.entries(options).find(
         ([, value]) => value === e.target.value
       )?.[0];
       onChange(selected);
     };

     return <select onChange={handleChange}>{/* options ë Œë”ë§ */}</select>;
   };
   ```

   - ê²°ê³¼ì ìœ¼ë¡œ ChangeEventHandler<HTMLSelectElement> íƒ€ì…ì˜ ì´ë²¤íŠ¸ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ í•´ë‹¹ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¸ë“¤ëŸ¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

1. í›…ì— íƒ€ì… ì¶”ê°€í•˜ê¸°

   - useState ì™€ ê°™ì€ í•¨ìˆ˜ ì—­ì‹œ íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¥¼ ì§€ì •í•´ì¤Œìœ¼ë¡œì„œ ë°˜í™˜ë˜ëŠ” state ì˜ íƒ€ì…ì„ ì§€ì •í•´ ì¤„ ìˆ˜ ìˆë‹¤. ë§Œì•½ íƒ€ì…ì„ ëª…ì‹œí•˜ì§€ ì•ŠëŠ” ê²½ìš° default value( ì´ˆê¸°ê°’ ) ì„ ê¸°ë°˜ìœ¼ë¡œ state íƒ€ì…ì„ ì¶”ë¡ í•œë‹¤.â—

   ```tsx
   const fruits = {
     apple: "ì‚¬ê³¼",
     banana: "ë°”ë‚˜ë‚˜",
     blueberry: "ë¸”ë£¨ë² ë¦¬",
   };

   const FruitSelect: VFC = () => {
     const [fruit, changeFruit] = useState<string | undefined>();
   };

   return (
     <Select onChange={changeFruit} options={fruits} selectedOption={fruit} />
   );
   ```

   - ë§Œì•½ íƒ€ì… ë§¤ê°œë³€ìˆ˜ê°€ ì—†ë‹¤ë©´ ì´ˆê¸°ê°’ì´ ì—†ê¸° ë•Œë¬¸ì— íƒ€ì…ì´ undefined ë¡œë§Œ ì¶”ë¡ ì´ ë˜ì–´ì„œ onChangeì˜ íƒ€ì…ê³¼ ì¼ì¹˜í•˜ì§€ ì•Šì•„ ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤. (ì•„ë˜ ì˜ˆì‹œ)

   ```tsx
   // fruit: undefined;
   // changeFruit: React.SetStateAction<undefined>
   const [fruit, changeFruit] = useState();

   return (
     <Select
       onChange={changeFruit} // íƒ€ì… ë¶ˆì¼ì¹˜ ì˜¤ë¥˜ ë°œìƒ
       options={fruits}
       selectedOption={fruit}
     />
   );
   ```

   - ìœ„ì˜ ì˜ˆì‹œì—ì„œ ê°œë°œìëŠ” fruit ì´ ë°˜ë“œì‹œ apple, banana, blueberry ì¤‘ í•˜ë‚˜ë¼ê³  ê¸°ëŒ€í•  ê²ƒì´ë‹¤. í•˜ì§€ë§Œ useState ì— ì œë„¤ë¦­ íƒ€ì…ì„ ì§€ì •í•´ì£¼ì§€ ì•ŠëŠ”ë‹¤ë©´ fruit ì„ string ìœ¼ë¡œ ì¶”ë¡ í•˜ì—¬ fruits ì— ì—†ëŠ” ì—†ëŠ” orange ë“±ì„ ë„£ê²Œ ë  ìˆ˜ë„ ìˆë‹¤.
   - ì´ëŸ¬í•œ ì—ëŸ¬ë¥¼ ë§‰ê¸° ìœ„í•´ ì¢€ ë” ëª…í™•í•œ íƒ€ì…ì„ ì§€ì •í•´ì¤€ë‹¤.

   ```tsx
   const [fruit, changeFruit] = useState<string | undefined>("apple");

   // Errorê°€ ì•„ë‹˜
   const func = () => {
     changeFruit("orange");
   };

   type Fruit = keyof typeof fruits; // "apple" | "banana" | "blueberry"

   const [fruit, changeFruit] = useState<Fruit | undefined>("apple");

   // ì˜¤ë¥˜ ë°œìƒ
   const func = () => {
     changeFruit("orange"); // "orange"ëŠ” Fruit íƒ€ì…ì— í¬í•¨ë˜ì§€ ì•ŠìŒ
   };
   ```

1. ì œë„¤ë¦­ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

   ```tsx
   const FruitSelect = () => {
     const [fruit, changeFruit] = useState<Fruit | undefined>();

     return (
       <Select
         options={fruits}
         onChange={changeFruit}
         selectedOption="orange"
       />
     );
   };
   ```

   - 8.2.3 ì—ì„œ Option ì˜ íƒ€ì…ì´ key ê°€ string ì´ê¸°ë§Œ í•˜ë©´ prop ìœ¼ë¡œ ë„˜ê²¨ì¤„ ìˆ˜ ìˆì–´ì„œ ìœ„ì²˜ëŸ¼ fruit íƒ€ì…ì´ ì•„ë‹Œ string ì„ ë„˜ê²¨ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ changeFruit ëŠ” prop ìœ¼ë¡œ ì „ë‹¬ë¼ì•¼ í•˜ëŠ” onChange ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì¸ string ë³´ë‹¤ ì¢ê¸° ë•Œë¬¸ì— íƒ€ì… ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
   - ì œí•œëœ key ì™€ value ë§Œ ê°€ì§€ë„ë¡ ë§Œë“¤ê²Œ í•˜ê¸° ìœ„í•´ ì œë„¤ë¦­ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“ ë‹¤.

   ```tsx
   interface SelectProps<OptionType extends Record<string, string>> {
     options: OptionType;
     selectedOption?: keyof OptionType;
     onChange: (selected?: keyof OptionType) => void;
   }

   const Select = <OptionType extends Record<string, string>>({
     options,
     selectedOption,
     onChange,
   }: SelectProps<OptionType>) => {
     // Select ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
   };
   ```

   - ì´ë ‡ê²Œ ìƒì„±í•˜ëŠ” ê²½ìš° Select ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬ë˜ëŠ” props ì˜ íƒ€ì… ê¸°ë°˜ìœ¼ë¡œ íƒ€ì…ì´ ì¶”ë¡ ë˜ì–´, <Select<ì¶”ë¡ ëœ íƒ€ì…>> í˜•íƒœì˜ ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ëœë‹¤.

   ```tsx
   const fruits = {
     apple: "ì‚¬ê³¼",
     banana: "ë°”ë‚˜ë‚˜",
     blueberry: "ë¸”ë£¨ë² ë¦¬",
   };

   const FruitSelect: VFC = () => {
     // ...
     // <Select<Fruit> .../> ìœ¼ë¡œ ì‘ì„±í• ìˆ˜ë„ ìˆì§€ë§Œ
     // prop ìœ¼ë¡œ íƒ€ì… ì¶”ë¡ 
     // Type Error - Type "orange" is not assignable to type
     // "apple" | "banana" | "blueberry" | undefined

     return (
       <Select
         options={fruits}
         onChange={changeFruit}
         selectedOption="orange"
       />
     );
   };
   ```

1. HTMLAttributes, ReactProps ì ìš©í•˜ê¸°

   - className, id ì™€ ê°™ì€ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ê¸°ë³¸ props ë¥¼ ì¶”ê°€í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ë¦¬ì•¡íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ ë” ì •í™•í•œ íƒ€ì…ì„ ì„¤ì •í•˜ë©´ ëœë‹¤.
   - ComponentPropsWithoutRef ëŠ” ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ propì„ ë°˜í™˜í•´ì£¼ëŠ” íƒ€ì….

   ```tsx
   type ReactSelectProps = React.ComponentPropsWithoutRef<"select">;

   interface SelectProps<OptionType extends Record<string, string>> {
     id?: ReactSelectProps["id"];
     className?: ReactSelectProps["className"];
     // ...
   }
   ```

   - type[â€™keyâ€™] ë¥¼ ì‚¬ìš©í•˜ë©´ ê°ì²´ í˜•ì‹ì˜ íƒ€ì… ë‚´ë¶€ ì†ì„±ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.
   - Pick í‚¤ì›Œë“œë¥¼ í™œìš©í•˜ì—¬ ì—¬ëŸ¬ ê°œì˜ íƒ€ì…ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

   ```tsx
   interface SelectProps<OptionType extends Record<string, string>>
   	extends Pick<ReactSelectProps,"id","key" | /* ... */{
   	//...
   }
   ```

1. styled-components ë¥¼ í™œìš©í•œ ìŠ¤íƒ€ì¼ ì •ì˜

   - styled-components ë¥¼ í™œìš©í•˜ì—¬ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì— ìŠ¤íƒ€ì¼ ê´€ë ¨ íƒ€ì…ì„ ì¶”ê°€í•´ë³´ì.

   ```tsx
   // ìŠ¤íƒ€ì¼ ì ìš©ì— ì‚¬ìš©ë  theme ê°ì²´
   const theme = {
     fontSize: {
       default: "16px",
       small: "14px",
       large: "18px",
     },
     color: {
       white: "#FFFFFF",
       black: "#000000",
     },
   };

   // íƒ€ì… ì„ ì–¸í•˜ê¸°
   type Theme = typeof theme;

   type FontSize = keyof Theme["fontSize"];
   type Color = keyof Theme["color"];

   // color ì™€ font-size ì˜ ìŠ¤íƒ€ì¼ ì •ì˜ë¥¼ ë‹´ì€ StyledSelect ì‘ì„±
   interface SelectStyleProps {
     color: Color;
     fontSize: FontSize;
   }

   const StyledSelect = styled.select<SelectStyleProps>`
     color: ${(props) => theme.color[props.color]};
     font-size: ${(props) => theme.fontSize[props.fontSize]};
   `;

   // Partial<type> ì„ ì‚¬ìš©í•˜ì—¬ ì˜µì…”ë„ë¡œ ì„¤ì •ë„ ê°€ëŠ¥
   interface SelectProps extends Partial<SelectStyleProps> {
     // ...
   }

   const Select = <OptionType extends Record<string, string>>({
     fontSize = "default",
     color = "black",
   }: // ...
   SelectProps<OptionType>) => {
     // ...
     return <StyledSelect fontSize={fontSize} color={color} />;
   };
   ```

1. ê³µë³€ì„±ê³¼ ë°˜ê³µë³€ì„±

   - ê°ì²´ì˜ ë©”ì„œë“œ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ë°©ë²•ì€ 2ê°€ì§€ê°€ ìˆë‹¤. ë‘ ë°©ë²•ì€ ë¯¸ë¬˜í•œ ì°¨ì´ë¥¼ ê°€ì§€ê³  ìˆìŒ.

   ```tsx
   interface Props<T extends string> {
     onChangeA?: (selected: T) => void; // í•¨ìˆ˜ íƒ€ì… ì†ì„± ì„ ì–¸
     onChangeB?(selected: T): void; // ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ ì„ ì–¸
   }

   const Component = () => {
     const changeToPineApple = (selected: "apple") => {
       console.log("This is pine " + selected);
     };

     return (
       <Select
         onChangeA={changeToPineApple} // Error
         onChangeB={changeToPineApple} // OK
       />
     );
   };
   ```

   ### [ê³µë³€ì„±ê³¼ ë°˜ê³µë³€ì„±]

   - `ê³µë³€ì„±(Covariance)` : Aê°€ Bì˜ ì„œë¸Œíƒ€ì…ì´ë©´, T<A>ëŠ” T<B>ì˜ ì„œë¸Œíƒ€ì…ì´ë‹¤.

   ```tsx
   interface User {
     id: string;
   }

   interface Member extends User {
     nickName: string;
   }

   let users: Array<User> = [];
   let members: Array<Member> = [];

   users = members; // OK
   members = users; // Error
   // ì¼ë°˜ì ì¸ íƒ€ì…ë“¤ì€ ê³µë³€ì„±ì„ ê°€ì§€ê³  ìˆì–´ì„œ ì¢ì€ íƒ€ì…ì—ì„œ
   // ë„“ì€ íƒ€ì…ìœ¼ë¡œ í• ë‹¹ì´ ê°€ëŠ¥í•˜ë‹¤.
   ```

   - `ë°˜ê³µë³€ì„±(Contravariance)` : Aê°€ Bì˜ ì„œë¸Œíƒ€ì…ì´ë©´, T<B>ëŠ” T<A>ì˜ ì„œë¸Œíƒ€ì…ì´ë‹¤.

   ```tsx
   type PrintUserInfo<U extends User> = (user: U) => void;

   let printUser: PrintUserInfo<User> = (user) => console.log(user.id);
   let printMember: PrintUserInfo<Member> = (user) =>
     console.log(user.id, user.nickName);

   printMember = printUser; // OK
   printUser = printMember; // Error
   // í•˜ì§€ë§Œ ì œë„¤ë¦­ íƒ€ì…ì„ ì§€ë‹Œ í•¨ìˆ˜ëŠ” ë°˜ê³µë³€ì„±ì„ ì§€ë‹Œë‹¤.
   // T<B>ê°€ T<A>ì˜ ì„œë¸Œíƒ€ì…ì´ ë˜ì–´, ì¢ì€ íƒ€ì… í•¨ìˆ˜ë¥¼ ë„“ì€ íƒ€ì… í•¨ìˆ˜ì— ì ìš© ë¶ˆê°€.
   ```

   - `ì´ë³€ì„±(Bivariance)` : Aê°€ Bì˜ ì„œë¸Œíƒ€ì…ì´ë©´, T<A> â†’ T<B>ë„ ë˜ê³  T<B> â†’ T<A>ë„ ë˜ëŠ” ê²½ìš°
   - â­ ì¢€ ë” ì°¾ì•„ë³¸ ê²°ê³¼ í•¨ìˆ˜ì˜ ë§¤ê°œ ë³€ìˆ˜ì— ê´€í•˜ì—¬ ë°˜ê³µë³€ì„±ì´ ì ìš©ëœë‹¤ëŠ” ë‚´ìš©ì„ í™•ì¸í–ˆëŠ”ë°, í•´ë‹¹ ë‚´ìš©ì´ ì¢€ ë” ì´í•´ê°€ ì‰¬ì› ë‹¤. [ë§í¬](https://inpa.tistory.com/entry/TS-%F0%9F%93%98-%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EA%B3%B5%EB%B3%80%EC%84%B1-%EB%B0%98%EA%B3%B5%EB%B3%80%EC%84%B1-%F0%9F%92%A1-%ED%95%B5%EC%8B%AC-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0)
   - ë­”ê°€ ë” ë§ì€ ê²ƒì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜(ë§¤ê°œ ë³€ìˆ˜ê°€ ë„“ì€) ë¥¼ ë” ì ì€ ê²ƒì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ (ë§¤ê°œ ë³€ìˆ˜ê°€ ì¢ì€) í•¨ìˆ˜ì— ëŒ€ì…í•œë‹¤ê³  ìƒê°!

   ```tsx
   interface Props<T extends string> {
     onChangeA?: (selected: T) => void; // í•¨ìˆ˜ íƒ€ì… ì†ì„± ì„ ì–¸ (í™”ì‚´í‘œ í‘œê¸°ë²•)
     onChangeB?(selected: T): void; // ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ ì„ ì–¸
   }
   ```

   - ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë³´ë©´ ìœ„ì˜ í‘œê¸°ë²•ì—ì„œëŠ” ë°˜ê³µë³€ì„±ì„ ë„ê²Œ ë˜ì–´ ì¢ì€ íƒ€ì…ì—ì„œ ë„“ì€ íƒ€ì… (ë§¤ê°œë³€ìˆ˜)ìœ¼ë¡œì˜ ëŒ€ì…ì´ ë¶ˆê°€ëŠ¥í–ˆë‹¤. í•˜ì§€ë§Œ ì•„ë˜ì˜ í‘œê¸°ë²•ìœ¼ë¡œ ì„ ì–¸í•˜ë©´ ê³µë³€ì„±ê³¼ ë°˜ê³µë³€ì„±ì„ ëª¨ë‘ ê°€ì§€ëŠ” ì´ë³€ì„±ì„ ë„ê²Œ ë˜ì–´ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šì•˜ë‹¤.
   - ì•ˆì „í•œ íƒ€ì…ê°€ë“œë¥¼ ìœ„í•´ íŠ¹ìˆ˜í•œ ê²½ìš°ë¥¼ ì œì™¸í•˜ê³ ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë°˜ ê³µë³€ì ì¸ í•¨ìˆ˜ íƒ€ì…ì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤ê³  í•œë‹¤.
   - â­ ì•„ë˜ëŠ” ì„ ì–¸ ë°©ì‹ì— ë”°ë¥¸ ì¢‹ì€ ì˜ˆì‹œ ì½”ë“œì¸ ê²ƒ ê°™ì•„ ê°€ì ¸ì™”ë‹¤. ( â—ì´ëŠ”Â **strictì˜µì…˜**ì´ í™œì„±í™” ë˜ì—ˆë‹¤ëŠ” ê°€ì •í•˜ì— ë§í•œë‹¤. )

   ```tsx
   interface SayMethod {
     say(a: string | number): string;
   }

   interface SayFunction {
     say: (a: string | number) => string;
   }

   interface SayCall {
     say: {
       (a: stinrg | number): string;
     };
   }

   const sayFunc = (a: string) => "hello";

   const MyAddingMethod: SayMethod = {
     say: sayFunc, //ì´ë³€ì„±
   };

   const MyAddingfunction: SayFunction = {
     say: sayFunc, // ë°˜ê³µë³€ì„±
   };

   const MyAddingfunction: SayCall = {
     say: sayFunc, // ë°˜ê³µë³€ì„±
   };
   ```

# 8.3 ì •ë¦¬

```tsx
import React, { useState } from "react";
import styled from "styled-components";

// Theme ì •ì˜
const theme = {
  fontSize: {
    default: "16px",
    small: "14px",
    large: "18px",
  },
  color: {
    white: "#FFFFFF",
    black: "#000000",
  },
};

type Theme = typeof theme;
export type FontSize = keyof Theme["fontSize"];
export type Color = keyof Theme["color"];

// Styled Componentsë¥¼ í™œìš©í•œ ìŠ¤íƒ€ì¼ë§
interface SelectStyleProps {
  color: Color;
  fontSize: FontSize;
}

const StyledSelect = styled.select<SelectStyleProps>`
  color: ${(props) => theme.color[props.color]};
  font-size: ${(props) => theme.fontSize[props.fontSize]};
`;

// React ê¸°ë³¸ props íƒ€ì… í™•ì¥
type ReactSelectProps = React.ComponentPropsWithoutRef<"select">;

interface SelectProps<OptionType extends Record<string, string>>
  extends Partial<SelectStyleProps> {
  id?: ReactSelectProps["id"];
  className?: ReactSelectProps["className"];

  options: OptionType;
  selectedOption?: keyof OptionType;
  onChange?: (selected?: keyof OptionType) => void;
}

// Select ì»´í¬ë„ŒíŠ¸ ì •ì˜
export const Select = <OptionType extends Record<string, string>>({
  className,
  id,
  options,
  onChange,
  selectedOption,
  fontSize = "default",
  color = "black",
}: SelectProps<OptionType>) => {
  const handleChange: React.ChangeEventHandler<HTMLSelectElement> = (e) => {
    const selected = Object.entries(options).find(
      ([, value]) => value === e.target.value
    )?.[0];
    onChange?.(selected);
  };

  return (
    <StyledSelect
      id={id}
      className={className}
      fontSize={fontSize}
      color={color}
      onChange={handleChange}
      value={selectedOption && options[selectedOption]}
    >
      {Object.entries(options).map(([key, value]) => (
        <option key={key} value={value}>
          {value}
        </option>
      ))}
    </StyledSelect>
  );
};

// Fruits ë°ì´í„°ì™€ Select ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
const fruits = {
  apple: "ì‚¬ê³¼",
  banana: "ë°”ë‚˜ë‚˜",
  blueberry: "ë¸”ë£¨ë² ë¦¬",
};

type Fruit = keyof typeof fruits;

const FruitSelect = () => {
  const [fruit, changeFruit] = useState<Fruit | undefined>();

  return (
    <Select
      className="fruitSelectBox"
      options={fruits}
      onChange={changeFruit}
      selectedOption={fruit}
      fontSize="large"
    />
  );
};

export default FruitSelect;
```

- ì°¸ ê¸¸êµ¬ë‚˜ TSâ€¦
